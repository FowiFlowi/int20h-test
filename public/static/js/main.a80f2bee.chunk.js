(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{413:function(t,e,n){"use strict";n.r(e);var a=n(6),r=n(0),c=n(22),i=n.n(c),o=n(476),s=n(477),u=n(478),l=n(155),d=n(479),j=n(89),b=n(34),p=n(463),h=n(467),O=n(4),f=n(458),x=n(460),m=n(462),g=n(461),v=n(455),w=Object(v.a)((function(){return{price:{fontWeight:600,color:"#000"},productItemContainer:{padding:"8px"},image:{objectFit:"contain"},fullHeight:{height:"100%"}}}));function k(t){var e=t.product,n=w(),c=e.name,i=e.price,o=e.img,s=e.url,u=Object(r.useMemo)((function(){return i/100}),[]);return Object(a.jsx)(f.a,{className:Object(O.a)(n.fullHeight,n.productItemContainer),onClick:function(){window.location=s},children:Object(a.jsxs)(x.a,{className:n.fullHeight,children:[o&&Object(a.jsx)(g.a,{className:n.image,component:"img",height:"240",image:o}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(p.a,{container:!0,direction:"column",children:[c&&Object(a.jsx)(l.a,{variant:"body1",component:"p",children:c}),i&&Object(a.jsxs)(l.a,{variant:"body2",color:"textSecondary",component:"b",children:["\u0426i\u043d\u0430: ",Object(a.jsx)("span",{className:n.price,children:u})," ","\u0433\u0440\u043d"]})]})})]})})}var y=n(31),P=n.n(y),C=n(20),S=n(59),N=n(62),L=n(121),M=n(122),W=n(215),B=n.n(W);function E(){}var R=new(function(){function t(e){var n=e.url;Object(L.a)(this,t),this.api=B.a.create({baseURL:n})}return Object(M.a)(t,[{key:"requestOptionsValidator",value:function(t){if(!t.path)throw new Error("Path option is not defined!")}},{key:"handleRequest",value:function(){var t=Object(S.a)(P.a.mark((function t(){var e,n,a,r=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:E,n=r.length>1&&void 0!==r[1]?r[1]:void 0,t.prev=2,t.next=5,e();case 5:return a=t.sent,t.abrupt("return",[a,void 0]);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",[n,t.t0]);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(S.a)(P.a.mark((function t(){var e,n=this,a=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},this.requestOptionsValidator(e),t.abrupt("return",this.handleRequest(Object(S.a)(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.api.get(e.path,{params:e.queryParams});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)}))),e.fallbackResponse));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}())({url:"/api"});function q(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*a));return e}function H(t){return Object(N.a)(Object(N.a)({},t),{},{uuid:q(5)})}var I=Object(b.a)({isLoading:!1,error:null,isOpenModal:!1,toggleModal:function(){I.isOpenModal=!I.isOpenModal}}),A=Object(b.a)({products:null,prices:null,searchParams:{search:"",sort:1,weight:""},loadSearchProducts:function(){return Object(S.a)(P.a.mark((function t(){var e,n,a,r,c,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=A.searchParams,n={path:"/products",fallbackResponse:{products:null},queryParams:Object(N.a)(Object(N.a)({},e.search&&{search:e.search}),e.sort&&{sort:e.sort})},A.products=null,I.isLoading=!0,t.next=6,R.get(n);case 6:a=t.sent,r=Object(C.a)(a,2),c=r[0],i=r[1],A.products=c.products&&c.products.map(H),I.error=i,I.isLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},loadProducts:function(t){return Object(S.a)(P.a.mark((function t(){var e,n,a,r,c,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=A.searchParams,n={path:"/products",fallbackResponse:{products:null},queryParams:Object(N.a)(Object(N.a)(Object(N.a)({},e.search&&{search:e.search}),e.sort&&{sort:e.sort}),e.weight&&{weight:e.weight})},A.products=null,I.isLoading=!0,t.next=6,R.get(n);case 6:a=t.sent,r=Object(C.a)(a,2),c=r[0],i=r[1],A.products=c.products&&c.products.map(H),I.error=i,I.isLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},loadProductsPrice:function(){return Object(S.a)(P.a.mark((function t(){var e,n,a,r,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={path:"/product/prices",fallbackResponse:{prices:null}},I.isLoading=!0,t.next=4,R.get(e);case 4:n=t.sent,a=Object(C.a)(n,2),r=a[0],c=a[1],A.prices=r.prices,I.error=c,I.isLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},getProductById:function(t){return null===A.products?null:A.products.find((function(e){return e.uuid===t}))},setSearchParam:function(t,e){A.searchParams[t]=e}}),T=n(480),F=n(217),D=n.n(F),K=n(216),V=n.n(K),z=n(465),G=n(464),J=Object(v.a)((function(){return{searchInput:{marginBottom:"24px",width:"40%"}}})),U=Object(b.b)((function(){var t=Object(r.useState)("\u0433\u0440\u0435\u0447\u0430\u043d\u0430 \u043a\u0440\u0443\u043f\u0430"),e=Object(C.a)(t,2),n=e[0],c=e[1],i=J(),o=function(t){A.setSearchParam("search",t||n),A.loadSearchProducts()};return Object(a.jsx)(T.a,{type:"text",value:n,className:i.searchInput,placeholder:"\u0446\u0443\u043a\u0435\u0440\u043e\u0447\u043a\u0430",margin:"normal",onChange:function(t){c(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&o()},disabled:I.isLoading,InputProps:{endAdornment:Object(a.jsxs)(G.a,{position:"end",children:[Object(a.jsx)(z.a,{onClick:o,children:Object(a.jsx)(V.a,{})}),n&&Object(a.jsx)(z.a,{"aria-label":"toggle password visibility",onClick:function(){c(""),o("")},children:Object(a.jsx)(D.a,{})})]})}})})),_=n(486);var Q=Object(b.b)((function(){var t=Object(r.useState)(""),e=Object(C.a)(t,2),n=e[0],c=e[1],i=function(t,e){var n=Object(r.useState)(t),a=Object(C.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){i(t)}),e);return function(){clearTimeout(n)}}),[t]),c}(n,700);Object(r.useEffect)((function(){A.loadProducts()}),[]),Object(r.useEffect)((function(){i&&(A.setSearchParam("weight",n),A.loadProducts())}),[i]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(l.a,{id:"range-slider",gutterBottom:!0,children:["\u0412\u0430\u0433\u0430 ",n&&"".concat(n)]}),Object(a.jsx)(_.a,{step:100,min:0,max:2e3,defaultValue:1e3,marks:!0,onChange:function(t,e){c(e)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",disabled:I.isLoading})]})})),X=n(466),Y=n(218),Z=n.n(Y),$=Object(v.a)((function(){return{turnOffSort:{transform:"rotate(-180deg)"},turnOnSort:{transform:"rotate(0)"}}})),tt=Object(b.b)((function(){var t=$(),e=Object(r.useState)(1),n=Object(C.a)(e,2),c=n[0],i=n[1];return Object(a.jsx)(X.a,{onClick:function(){var t=-1*c;i(t),A.setSearchParam("sort",t),A.loadProducts()},color:-1===c?"primary":"default",disabled:I.isLoading,children:Object(a.jsx)(Z.a,{className:Object(O.a)(t.turnOffSort,-1===c&&t.turnOnSort)})})})),et=n(219),nt=n.n(et),at=Object(b.b)((function(){return Object(a.jsx)(X.a,{onClick:function(){I.toggleModal()},children:Object(a.jsx)(nt.a,{})})})),rt=Object(v.a)((function(){return{pageWrapper:{marginBottom:"8px"},contentWrapper:{width:"20%"}}})),ct=Object(b.b)((function(){var t,e=null===A.products,n=rt();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(p.a,{container:!0,justify:"space-between",className:n.pageWrapper,children:[Object(a.jsx)(U,{}),Object(a.jsxs)(p.a,(t={container:!0,className:n.contentWrapper},Object(j.a)(t,"container",!0),Object(j.a)(t,"direction","column"),Object(j.a)(t,"children",[Object(a.jsx)(p.a,{children:Object(a.jsx)(Q,{})}),Object(a.jsxs)(p.a,{container:!0,justify:"flex-end",children:[Object(a.jsx)(at,{}),Object(a.jsx)(tt,{})]})]),t))]}),e&&Object(a.jsx)(h.a,{color:"primary"}),!e&&Object(a.jsx)(p.a,{container:!0,spacing:3,direction:"row",children:A.products.map((function(t){return Object(a.jsx)(p.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(k,{product:t})},t.uuid)}))})]})})),it=n(485),ot=n(468),st=n(220),ut=n.n(st),lt=n(469),dt=Object(v.a)((function(){return{notificationContentContainer:{padding:"8px 8px 0px 8px",minWidth:"300px"},fullHeight:{height:"100%"}}})),jt=n.p+"static/media/canbus.70b4deca.png";function bt(){var t=dt(),e=Object(r.useState)(!1),n=Object(C.a)(e,2),c=n[0],i=n[1],o=Object(r.useState)(null),s=Object(C.a)(o,2),u=s[0],d=s[1],j=Object(r.useState)(1),b=Object(C.a)(j,2),p=b[0],h=b[1];return Object(a.jsxs)(z.a,{color:"inherit",onClick:function(t){if(d(t.target),c)return h(0),i(!1);i(!0)},disabled:!p,children:[Object(a.jsx)(ot.a,{badgeContent:p,color:"secondary",children:Object(a.jsx)(ut.a,{})}),Object(a.jsx)(it.a,{open:c,anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(a.jsx)(f.a,{className:Object(O.a)(t.fullHeight,t.notificationContentContainer),children:Object(a.jsxs)(x.a,{className:t.fullHeight,children:[jt&&Object(a.jsx)(g.a,{className:t.image,component:"img",height:"240",image:jt}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(l.a,{variant:"body2",color:"textSecondary",component:"b",children:["\u041d\u0435 \u0447\u0443\u0432 \u043f\u0440\u043e \u043a\u0430\u043d-\u0448\u0438\u043d\u0443?",Object(a.jsx)(lt.a,{href:"https://uk.wikipedia.org/wiki/Controller_Area_Network",onClick:function(t){return t.stopPropagation()},children:"\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044f!"})]})})]})})})]})}var pt=n(481),ht=n(231),Ot=n(232),ft=n(236),xt=n(484),mt=n(475),gt=n(471),vt=n(470);function wt(t){var e=new Date(t);return e.getHours()+":"+("0"+e.getMinutes()).substr(-2)}function kt(t){return t/100}var yt=Object(v.a)((function(){return{modalText:{textAlign:"center"}}})),Pt=Object(b.b)((function(){var t=yt(),e=null!==A.prices;return Object(a.jsxs)(xt.a,{maxWidth:"lg",open:I.isOpenModal,onClose:I.toggleModal,"aria-labelledby":"max-width-dialog-title",children:[Object(a.jsx)(vt.a,{id:"max-width-dialog-title",className:t.modalText,children:"\u0426\u0456\u043d\u0438"}),Object(a.jsxs)(gt.a,{children:[!e&&Object(a.jsx)("div",{children:"\u0426\u0456\u043d\u0438 \u043f\u043e\u043a\u0438 \u0449\u043e \u0432\u0456\u0434\u0441\u0443\u043d\u0442\u043d\u0456 :\u0441"}),e&&Object(a.jsxs)(pt.a,{width:500,height:300,data:A.prices,children:[Object(a.jsx)(ht.a,{tickFormatter:wt,dataKey:"time"}),Object(a.jsx)(Ot.a,{tickFormatter:kt}),Object(a.jsx)(ft.a,{dataKey:"price",dot:!1})]})]}),Object(a.jsx)(mt.a,{children:Object(a.jsx)(X.a,{onClick:I.toggleModal,color:"primary",children:"Close"})})]})})),Ct=Object(v.a)((function(t){return{root:{display:"flex"},notificationLink:{marginLeft:5},toolbar:{paddingRight:24},title:{flexGrow:1},appBarSpacer:t.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)}}}));function St(){var t=Ct();return Object(r.useEffect)((function(){A.loadProductsPrice()})),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(s.a,{position:"absolute",children:Object(a.jsxs)(u.a,{className:t.toolbar,children:[Object(a.jsx)(l.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"CAN"}),Object(a.jsx)(bt,{})]})}),Object(a.jsxs)("main",{className:t.content,children:[Object(a.jsx)("div",{className:t.appBarSpacer}),Object(a.jsx)(d.a,{maxWidth:"lg",className:t.container,children:Object(a.jsx)(ct,{})}),Object(a.jsx)(Pt,{})]})]})}i.a.render(Object(a.jsx)(St,{}),document.getElementById("root"))}},[[413,1,2]]]);
//# sourceMappingURL=main.a80f2bee.chunk.js.map