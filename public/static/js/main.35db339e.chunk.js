(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(t,e,n){"use strict";n.r(e);var a=n(5),r=n(0),c=n(11),i=n.n(c),o=n(200),s=n(201),l=n(202),u=n(61),d=n(203),j=n(41),b=n(16),p=n(189),h=n(193),O=n(3),f=n(184),x=n(186),m=n(188),g=n(187),v=n(181),w=Object(v.a)((function(){return{price:{fontWeight:600,color:"#000"},productItemContainer:{padding:"8px"},image:{objectFit:"contain"},fullHeight:{height:"100%"}}}));function y(t){var e=t.product,n=w(),c=e.name,i=e.price,o=e.img,s=e.url,l=Object(r.useMemo)((function(){return i/100}),[]);return Object(a.jsx)(f.a,{className:Object(O.a)(n.fullHeight,n.productItemContainer),onClick:function(){window.location=s},children:Object(a.jsxs)(x.a,{className:n.fullHeight,children:[o&&Object(a.jsx)(g.a,{className:n.image,component:"img",height:"240",image:o}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(p.a,{container:!0,direction:"column",children:[c&&Object(a.jsx)(u.a,{variant:"body1",component:"p",children:c}),i&&Object(a.jsxs)(u.a,{variant:"body2",color:"textSecondary",component:"b",children:["\u0426i\u043d\u0430: ",Object(a.jsx)("span",{className:n.price,children:l})," ","\u0433\u0440\u043d"]})]})})]})})}var k=n(21),P=n.n(k),C=n(15),S=n(35),N=n(44),L=n(55),M=n(56),B=n(85),E=n.n(B);function I(){}var R=new(function(){function t(e){var n=e.url;Object(L.a)(this,t),this.api=E.a.create({baseURL:n})}return Object(M.a)(t,[{key:"requestOptionsValidator",value:function(t){if(!t.path)throw new Error("Path option is not defined!")}},{key:"handleRequest",value:function(){var t=Object(S.a)(P.a.mark((function t(){var e,n,a,r=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:I,n=r.length>1&&void 0!==r[1]?r[1]:void 0,t.prev=2,t.next=5,e();case 5:return a=t.sent,t.abrupt("return",[a,void 0]);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",[n,t.t0]);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(S.a)(P.a.mark((function t(){var e,n=this,a=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},this.requestOptionsValidator(e),t.abrupt("return",this.handleRequest(Object(S.a)(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.api.get(e.path,{params:e.queryParams});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)}))),e.fallbackResponse));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}())({url:"http://localhost:3000/api"});function q(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*a));return e}function H(t){return Object(N.a)(Object(N.a)({},t),{},{uuid:q(5)})}var W=Object(b.a)({isLoading:!1,error:null,isOpenModal:!1,toggleModal:function(){W.isOpenModal=!W.isOpenModal}}),A=Object(b.a)({products:null,prices:null,searchParams:{search:"",sort:1,weight:""},loadProducts:function(){return Object(S.a)(P.a.mark((function t(){var e,n,a,r,c,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=A.searchParams,n={path:"/products",fallbackResponse:{products:null},queryParams:Object(N.a)(Object(N.a)(Object(N.a)({},e.search&&{search:e.search}),e.sort&&{sort:e.sort}),e.weight&&{weight:e.weight})},A.products=null,W.isLoading=!0,t.next=6,R.get(n);case 6:a=t.sent,r=Object(C.a)(a,2),c=r[0],i=r[1],A.products=c.products&&c.products.map(H),W.error=i,W.isLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},loadProductsPrice:function(){return Object(S.a)(P.a.mark((function t(){var e,n,a,r,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={path:"/product/prices",fallbackResponse:{prices:null}},W.isLoading=!0,t.next=4,R.get(e);case 4:n=t.sent,a=Object(C.a)(n,2),r=a[0],c=a[1],A.prices=r.prices,W.error=c,W.isLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},getProductById:function(t){return null===A.products?null:A.products.find((function(e){return e.uuid===t}))},setSearchParam:function(t,e){A.searchParams[t]=e}}),z=n(204),T=n(87),V=n.n(T),D=n(86),F=n.n(D),G=n(191),J=n(190),K=Object(v.a)((function(){return{searchInput:{marginBottom:"24px",width:"40%"}}})),U=Object(b.b)((function(){var t=Object(r.useState)("\u0433\u0440\u0435\u0447\u0430\u043d\u0430 \u043a\u0440\u0443\u043f\u0430"),e=Object(C.a)(t,2),n=e[0],c=e[1],i=K(),o=function(t){A.setSearchParam("search",t||n),A.loadProducts()};return Object(a.jsx)(z.a,{type:"text",value:n,className:i.searchInput,placeholder:"\u0446\u0443\u043a\u0435\u0440\u043e\u0447\u043a\u0430",margin:"normal",onChange:function(t){c(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&o()},disabled:W.isLoading,InputProps:{endAdornment:Object(a.jsxs)(J.a,{position:"end",children:[Object(a.jsx)(G.a,{onClick:o,children:Object(a.jsx)(F.a,{})}),n&&Object(a.jsx)(G.a,{"aria-label":"toggle password visibility",onClick:function(){c(""),o("")},children:Object(a.jsx)(V.a,{})})]})}})})),Y=n(208);var _=Object(b.b)((function(){var t=Object(r.useState)(""),e=Object(C.a)(t,2),n=e[0],c=e[1],i=function(t,e){var n=Object(r.useState)(t),a=Object(C.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){i(t)}),e);return function(){clearTimeout(n)}}),[t]),c}(n,700);Object(r.useEffect)((function(){A.loadProducts()}),[]),Object(r.useEffect)((function(){i&&(A.setSearchParam("weight",n),A.loadProducts())}),[i]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{id:"range-slider",gutterBottom:!0,children:["\u0412\u0430\u0433\u0430 ",n&&"".concat(n)]}),Object(a.jsx)(Y.a,{step:100,min:0,max:2e3,defaultValue:1e3,marks:!0,onChange:function(t,e){c(e)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",disabled:W.isLoading})]})})),Q=n(192),X=n(88),Z=n.n(X),$=Object(v.a)((function(){return{turnOffSort:{transform:"rotate(-180deg)"},turnOnSort:{transform:"rotate(0)"}}})),tt=Object(b.b)((function(){var t=$(),e=Object(r.useState)(1),n=Object(C.a)(e,2),c=n[0],i=n[1];return Object(a.jsx)(Q.a,{onClick:function(){var t=-1*c;i(t),A.setSearchParam("sort",t),A.loadProducts()},color:-1===c?"primary":"default",disabled:W.isLoading,children:Object(a.jsx)(Z.a,{className:Object(O.a)(t.turnOffSort,-1===c&&t.turnOnSort)})})})),et=n(89),nt=n.n(et),at=Object(b.b)((function(){return Object(a.jsx)(Q.a,{onClick:function(){W.toggleModal()},children:Object(a.jsx)(nt.a,{})})})),rt=Object(b.b)((function(){var t,e=null===A.products;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(p.a,{container:!0,justify:"space-between",style:{marginBottom:"8px"},children:[Object(a.jsx)(U,{}),Object(a.jsxs)(p.a,(t={container:!0,style:{width:"20%"}},Object(j.a)(t,"container",!0),Object(j.a)(t,"direction","column"),Object(j.a)(t,"children",[Object(a.jsx)(p.a,{children:Object(a.jsx)(_,{})}),Object(a.jsxs)(p.a,{container:!0,justify:"flex-end",children:[Object(a.jsx)(at,{}),Object(a.jsx)(tt,{})]})]),t))]}),e&&Object(a.jsx)(h.a,{color:"primary"}),!e&&Object(a.jsx)(p.a,{container:!0,spacing:3,direction:"row",children:A.products.map((function(t){return Object(a.jsx)(p.a,{item:!0,md:4,xs:12,children:Object(a.jsx)(y,{product:t})},t.uuid)}))})]})})),ct=n(207),it=n(194),ot=n(90),st=n.n(ot),lt=n(195),ut=Object(v.a)((function(){return{notificationContentContainer:{padding:"8px 8px 0px 8px",minWidth:"300px"},fullHeight:{height:"100%"}}})),dt=n.p+"static/media/canbus.70b4deca.png";function jt(){var t=ut(),e=Object(r.useState)(!1),n=Object(C.a)(e,2),c=n[0],i=n[1],o=Object(r.useState)(null),s=Object(C.a)(o,2),l=s[0],d=s[1],j=Object(r.useState)(1),b=Object(C.a)(j,2),p=b[0],h=b[1];return Object(a.jsxs)(G.a,{color:"inherit",onClick:function(t){if(d(t.target),c)return h(0),i(!1);i(!0)},disabled:!p,children:[Object(a.jsx)(it.a,{badgeContent:p,color:"secondary",children:Object(a.jsx)(st.a,{})}),Object(a.jsx)(ct.a,{open:c,anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(a.jsx)(f.a,{className:Object(O.a)(t.fullHeight,t.notificationContentContainer),children:Object(a.jsxs)(x.a,{className:t.fullHeight,children:[dt&&Object(a.jsx)(g.a,{className:t.image,component:"img",height:"240",image:dt}),Object(a.jsx)(m.a,{style:{padding:"16px 16px 16px 0px"},children:Object(a.jsxs)(u.a,{variant:"body2",color:"textSecondary",component:"b",children:["\u041d\u0435 \u0447\u0443\u0432 \u043f\u0440\u043e \u043a\u0430\u043d-\u0448\u0438\u043d\u0443?",Object(a.jsx)(lt.a,{href:"https://uk.wikipedia.org/wiki/Controller_Area_Network",onClick:function(t){return t.stopPropagation()},children:"\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044f!"})]})})]})})})]})}var bt=n(206),pt=n(199),ht=n(197),Ot=n(198),ft=n(196),xt=Object(b.b)((function(){return console.log(A.prices),Object(a.jsxs)(bt.a,{maxWidth:"lg",open:W.isOpenModal,onClose:W.toggleModal,"aria-labelledby":"max-width-dialog-title",children:[Object(a.jsx)(ft.a,{id:"max-width-dialog-title",children:"Optional sizes"}),Object(a.jsx)(ht.a,{children:Object(a.jsx)(Ot.a,{children:"You can set my maximum width and whether to adapt or not."})}),Object(a.jsx)(pt.a,{children:Object(a.jsx)(Q.a,{onClick:W.toggleModal,color:"primary",children:"Close"})})]})})),mt=Object(v.a)((function(t){return{root:{display:"flex"},notificationLink:{marginLeft:5},toolbar:{paddingRight:24},title:{flexGrow:1},appBarSpacer:t.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)}}}));function gt(){var t=mt();return Object(r.useEffect)((function(){A.loadProductsPrice()})),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(s.a,{position:"absolute",children:Object(a.jsxs)(l.a,{className:t.toolbar,children:[Object(a.jsx)(u.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"CAN"}),Object(a.jsx)(jt,{})]})}),Object(a.jsxs)("main",{className:t.content,children:[Object(a.jsx)("div",{className:t.appBarSpacer}),Object(a.jsx)(d.a,{maxWidth:"lg",className:t.container,children:Object(a.jsx)(rt,{})}),Object(a.jsx)(xt,{})]})]})}i.a.render(Object(a.jsx)(gt,{}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.35db339e.chunk.js.map